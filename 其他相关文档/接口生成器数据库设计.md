# 数据库设计

>服务器基于mysql结构，其中tinyint == boolean
>
>接口结构基于json设计 大概是一种nosql的概念？

## 用户数据表 tb_user

|   字段   |   类型   |  长度 | 主键 | 是否可为空 | 是否唯一 | 备注 |
|:-------:|:-------:|:-------:|:-------:|:-------:|:-------:|:-------:|
| email | varchar | 255 | 否 | 否 | 是 | email |
|   username   | varchar |  255  | 否  | 否 | 是 | 用户昵称 |
|  password     | varchar | 255 | 否 | 否 | 否 | md5加密密码 |
| user_id  |   int   |  10  | 是  |否 | 是 | id |
| create_time | dateTime | | 否 | 否 | 否 | 注册时间 |

## 组表 tb_group

|   字段   |   类型   |  长度 | 主键 | 是否可为空 | 是否唯一 | 备注 |
|:-------:|:-------:|:-------:|:-------:|:-------:|:-------:|:-------:|
| group_id | varchar | 255 | 是 | 否 | 是 | 组id唯一六位字符串 |
| group_name | varchar | 255 | 否 | 否 | 否 | 接口组名称 |
| json_file | varchar | 255 | 否 | 是 | 否 | json文件保存的相对路径 |
| md5 | varchar | 255 | 否 | 否 | 是 | 当前版本md5码 |

## 组成员表 tb_member

|   字段   |   类型   |  长度 | 主键 | 是否可为空 | 是否唯一 | 备注 |
|:-------:|:-------:|:-------:|:-------:|:-------:|:-------:|:-------:|
| group_id | varchar | 255 | 联合主键 | 否 | 联合唯一 | 组id唯一六位字符串 |
| user_id  |   int   |  10        | 联合主键  |否 | 联合唯一 | 用户id |
| type | int | 10 | 否 | 否 | 否 | 用户身份{1管理员，2贡献者，3普通用户} |

## 版本更新表  tb_update

|   字段   |   类型   |  长度 | 主键 | 是否可为空 | 是否唯一 | 备注 |
|:-------:|:-------:|:-------:|:-------:|:-------:|:-------:|:-------:|
| group_id | varchar | 255 | 否 | 否 | 否 | 更新发生的项目编号 |
| user_id  | int | 10 | 否 | 否 | 否 | 更新的用户 |
| update_time | dateTime | | 否 | 否 | 否 | 更新的时间 |
| id | int | 10 | 是 | 否 | 是 | 更新的编号 |

## 登录记录表  tb_record

|   字段   |   类型   |  长度 | 主键 | 是否可为空 | 是否唯一 | 备注 |
|:-------:|:-------:|:-------:|:-------:|:-------:|:-------:|:-------:|
| user_id | int | 10 | 是 | 否 | 是 | 用户Id |
| ip | String | 50 | 否 | 否 | 否 | 用户ip |
| login_time | dateTime | default | 否 | 否 | 否 | 登录时间 |
